<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Backend.CmdLine</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Backend-CmdLine.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-Backend-CmdLine.html">Source</a></li><li><a href="http://www.haskell.org/haskellwiki/Diagrams/Comments/Diagrams.Backend.CmdLine">User Comments</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-lib-1.0: Embedded domain-specific language for declarative graphics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Diagrams.Backend.CmdLine</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Options
</a><ul><li><a href="#g:2">Standard options
</a></li><li><a href="#g:3">Multi-diagram options
</a></li><li><a href="#g:4">Animation options
</a></li><li><a href="#g:5">Loop options
</a></li></ul></li><li><a href="#g:6">Parsing
</a></li><li><a href="#g:7">Command-line programs (<code>Mainable</code>)
</a><ul><li><a href="#g:8">Arguments, rendering, and entry point
</a></li><li><a href="#g:9">General currying
</a></li><li><a href="#g:10">Default <code>mainRender</code> implementations
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Convenient creation of command-line-driven executables for
 rendering diagrams.  This module provides a general framework
 and default behaviors for parsing command-line arguments,
 records for diagram creation options in various forms, and
 classes and instances for a unified entry point to command-line-driven
 diagram creation executables.
</p><p>For a tutorial on command-line diagram creation see
 <a href="http://projects.haskell.org/diagrams/doc/cmdline.html">http://projects.haskell.org/diagrams/doc/cmdline.html</a>.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:DiagramOpts">DiagramOpts</a>  = <a href="#v:DiagramOpts">DiagramOpts</a> {<ul class="subs"><li><a href="#v:_width">_width</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></li><li><a href="#v:_height">_height</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></li><li><a href="#v:_output">_output</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></li></ul>}</li><li class="src short"><a href="#v:diagramOpts">diagramOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></li><li class="src short"><a href="#v:width">width</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:height">height</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:output">output</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:DiagramMultiOpts">DiagramMultiOpts</a>  = <a href="#v:DiagramMultiOpts">DiagramMultiOpts</a> {<ul class="subs"><li><a href="#v:_selection">_selection</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></li><li><a href="#v:_list">_list</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:diagramMultiOpts">diagramMultiOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></li><li class="src short"><a href="#v:selection">selection</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:list">list</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:DiagramAnimOpts">DiagramAnimOpts</a>  = <a href="#v:DiagramAnimOpts">DiagramAnimOpts</a> {<ul class="subs"><li><a href="#v:_fpu">_fpu</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a></li></ul>}</li><li class="src short"><a href="#v:diagramAnimOpts">diagramAnimOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></li><li class="src short"><a href="#v:fpu">fpu</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:DiagramLoopOpts">DiagramLoopOpts</a>  = <a href="#v:DiagramLoopOpts">DiagramLoopOpts</a> {<ul class="subs"><li><a href="#v:_loop">_loop</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:_src">_src</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></li><li><a href="#v:_interval">_interval</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:diagramLoopOpts">diagramLoopOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></li><li class="src short"><a href="#v:loop">loop</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:src">src</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a>)</li><li class="src short"><a href="#v:interval">interval</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">class</span>  <a href="#t:Parseable">Parseable</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="#v:parser">parser</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> a</li></ul></li><li class="src short"><a href="#v:readHexColor">readHexColor</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour.html#t:AlphaColour">AlphaColour</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a>)</li><li class="src short"><span class="keyword">class</span>  <a href="#t:Mainable">Mainable</a> d  <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:MainOpts">MainOpts</a> d :: *</li><li><a href="#v:mainArgs">mainArgs</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d) =&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d)</li><li><a href="#v:mainRender">mainRender</a> :: <a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d -&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()</li><li><a href="#v:mainWith">mainWith</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d) =&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()</li></ul></li><li class="src short"><span class="keyword">class</span>  <a href="#t:ToResult">ToResult</a> d  <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:Args">Args</a> d :: *</li><li><span class="keyword">type</span> <a href="#t:ResultOf">ResultOf</a> d :: *</li><li><a href="#v:toResult">toResult</a> :: d -&gt; <a href="Diagrams-Backend-CmdLine.html#t:Args">Args</a> d -&gt; <a href="Diagrams-Backend-CmdLine.html#t:ResultOf">ResultOf</a> d</li></ul></li><li class="src short"><a href="#v:defaultAnimMainRender">defaultAnimMainRender</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v)) <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a> -&gt; (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v), <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a>) -&gt; <a href="Diagrams-Animation.html#t:Animation">Animation</a> b v -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:defaultMultiMainRender">defaultMultiMainRender</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> d =&gt; (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d, <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a>) -&gt; [(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a>, d)] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1 id="g:1">Options
</h1><h2 id="g:2">Standard options
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DiagramOpts" class="def">DiagramOpts</a>  <a href="src/Diagrams-Backend-CmdLine.html#DiagramOpts" class="link">Source</a></p><div class="doc"><p>Standard options most diagrams are likely to have.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DiagramOpts" class="def">DiagramOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_width" class="def">_width</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Final output width of diagram.
</p></dd><dt class="src"><a name="v:_height" class="def">_height</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Final output height of diagram.
</p></dd><dt class="src"><a name="v:_output" class="def">_output</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></dt><dd class="doc"><p>Output file path, format is typically chosen by extension.
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DiagramOpts" class="caption collapser" onclick="toggleSection('i:DiagramOpts')">Instances</p><div id="section.i:DiagramOpts" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Data.html#t:Data">Data</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramOpts">diagramOpts</a></code> parser.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:diagramOpts" class="def">diagramOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a><a href="src/Diagrams-Backend-CmdLine.html#diagramOpts" class="link">Source</a></p><div class="doc"><p>Command line parser for <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></code>.
   Width is option <code>--width</code> or <code>-w</code>.
   Height is option <code>--height</code> or <code>-h</code> (note we change help to be <code>-?</code> due to this).
   Output is option <code>--output</code> or <code>-o</code>.
</p></div></div><div class="top"><p class="src"><a name="v:width" class="def">width</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a>)<a href="src/Diagrams-Backend-CmdLine.html#width" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:height" class="def">height</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a>)<a href="src/Diagrams-Backend-CmdLine.html#height" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:output" class="def">output</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a><a href="src/Diagrams-Backend-CmdLine.html#output" class="link">Source</a></p></div><h2 id="g:3">Multi-diagram options
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DiagramMultiOpts" class="def">DiagramMultiOpts</a>  <a href="src/Diagrams-Backend-CmdLine.html#DiagramMultiOpts" class="link">Source</a></p><div class="doc"><p>Extra options for a program that can offer a choice
   between multiple diagrams.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DiagramMultiOpts" class="def">DiagramMultiOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_selection" class="def">_selection</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></dt><dd class="doc"><p>Selected diagram to render.
</p></dd><dt class="src"><a name="v:_list" class="def">_list</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Flag to indicate that a list of available diagrams should
   be printed to standard out.
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DiagramMultiOpts" class="caption collapser" onclick="toggleSection('i:DiagramMultiOpts')">Instances</p><div id="section.i:DiagramMultiOpts" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Data.html#t:Data">Data</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramMultiOpts">diagramMultiOpts</a></code> parser.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:diagramMultiOpts" class="def">diagramMultiOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a><a href="src/Diagrams-Backend-CmdLine.html#diagramMultiOpts" class="link">Source</a></p><div class="doc"><p>Command line parser for <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></code>.
   Selection is option <code>--selection</code> or <code>-s</code>.
   List is <code>--list</code> or <code>-l</code>.
</p></div></div><div class="top"><p class="src"><a name="v:selection" class="def">selection</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a>)<a href="src/Diagrams-Backend-CmdLine.html#selection" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:list" class="def">list</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Diagrams-Backend-CmdLine.html#list" class="link">Source</a></p></div><h2 id="g:4">Animation options
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DiagramAnimOpts" class="def">DiagramAnimOpts</a>  <a href="src/Diagrams-Backend-CmdLine.html#DiagramAnimOpts" class="link">Source</a></p><div class="doc"><p>Extra options for animations.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DiagramAnimOpts" class="def">DiagramAnimOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_fpu" class="def">_fpu</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a></dt><dd class="doc"><p>Number of frames per unit time to generate for the animation.
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DiagramAnimOpts" class="caption collapser" onclick="toggleSection('i:DiagramAnimOpts')">Instances</p><div id="section.i:DiagramAnimOpts" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Data.html#t:Data">Data</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramAnimOpts">diagramAnimOpts</a></code> parser.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:diagramAnimOpts" class="def">diagramAnimOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a><a href="src/Diagrams-Backend-CmdLine.html#diagramAnimOpts" class="link">Source</a></p><div class="doc"><p>Command line parser for <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></code>
   Frames per unit is <code>--fpu</code> or <code>-f</code>.
</p></div></div><div class="top"><p class="src"><a name="v:fpu" class="def">fpu</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a><a href="src/Diagrams-Backend-CmdLine.html#fpu" class="link">Source</a></p></div><h2 id="g:5">Loop options
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DiagramLoopOpts" class="def">DiagramLoopOpts</a>  <a href="src/Diagrams-Backend-CmdLine.html#DiagramLoopOpts" class="link">Source</a></p><div class="doc"><p>Extra options for command-line looping.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DiagramLoopOpts" class="def">DiagramLoopOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_loop" class="def">_loop</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Flag to indicate that the program should loop creation.
</p></dd><dt class="src"><a name="v:_src" class="def">_src</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></dt><dd class="doc"><p>File path for the source file to recompile.
</p></dd><dt class="src"><a name="v:_interval" class="def">_interval</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Interval in seconds at which to check for recompilation.
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DiagramLoopOpts" class="caption collapser" onclick="toggleSection('i:DiagramLoopOpts')">Instances</p><div id="section.i:DiagramLoopOpts" class="show"><table><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramLoopOpts">diagramLoopOpts</a></code> parser.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:diagramLoopOpts" class="def">diagramLoopOpts</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a><a href="src/Diagrams-Backend-CmdLine.html#diagramLoopOpts" class="link">Source</a></p><div class="doc"><p>CommandLine parser for <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></code>
   Loop is <code>--loop</code> or <code>-l</code>.
   Source is <code>--src</code> or <code>-s</code>.
   Interval is <code>-i</code> defaulting to one second.
</p></div></div><div class="top"><p class="src"><a name="v:loop" class="def">loop</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a><a href="src/Diagrams-Backend-CmdLine.html#loop" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:src" class="def">src</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a>)<a href="src/Diagrams-Backend-CmdLine.html#src" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:interval" class="def">interval</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a><a href="src/Diagrams-Backend-CmdLine.html#interval" class="link">Source</a></p></div><h1 id="g:6">Parsing
</h1><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Parseable" class="def">Parseable</a> a  <span class="keyword">where</span><a href="src/Diagrams-Backend-CmdLine.html#Parseable" class="link">Source</a></p><div class="doc"><p>Parseable instances give a command line parser for a type.  If a custom
   parser for a common type is wanted a newtype wrapper could be used to make
   a new <code><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a></code> instance.  Notice that we do <em>not</em> want as many
   instances as <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Read.html#t:Read">Read</a></code> because we want to limit ourselves to things that make
   sense to parse from the command line.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:parser" class="def">parser</a> :: <a href="http://hackage.haskell.org/packages/archive/optparse-applicative/0.7.0.2/doc/html/Options-Applicative-Types.html#t:Parser">Parser</a> a<a href="src/Diagrams-Backend-CmdLine.html#parser" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Parseable" class="caption collapser" onclick="toggleSection('i:Parseable')">Instances</p><div id="section.i:Parseable" class="show"><table><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Parse <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a></code> according to its <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Read.html#t:Read">Read</a></code> instance.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>Parse <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Int.html#t:Int">Int</a></code> according to its <code><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Read.html#t:Read">Read</a></code> instance.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a></td><td class="doc"><p>Parse a string by just accepting the given string.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> ()</td><td class="doc"><p>This instance is needed to signal the end of a chain of
   nested tuples, it always just results in the unit value
   without consuming anything.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramOpts">DiagramOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramOpts">diagramOpts</a></code> parser.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramMultiOpts">diagramMultiOpts</a></code> parser.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramAnimOpts">diagramAnimOpts</a></code> parser.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> <a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></td><td class="doc"><p>Parse <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramLoopOpts">DiagramLoopOpts</a></code> using the <code><a href="Diagrams-Backend-CmdLine.html#v:diagramLoopOpts">diagramLoopOpts</a></code> parser.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour-RGBSpace.html#t:Colour">Colour</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a>)</td><td class="doc"><p>Parse <code><code><a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour-RGBSpace.html#t:Colour">Colour</a></code> Double</code> as either a named color from <a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour-Names.html">Data.Colour.Names</a>
   or a hexadecimal color.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour.html#t:AlphaColour">AlphaColour</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a>)</td><td class="doc"><p>Parse <code><code><a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour.html#t:AlphaColour">AlphaColour</a></code> Double</code> as either a named color from <a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour-Names.html">Data.Colour.Names</a>
   or a hexadecimal color.
</p></td></tr><tr><td class="src">(<a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> a, <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> b) =&gt; <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (a, b)</td><td class="doc"><p>Allow <code><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a></code> things to be combined.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:readHexColor" class="def">readHexColor</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/packages/archive/colour/2.3.3/doc/html/Data-Colour.html#t:AlphaColour">AlphaColour</a> <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Prelude.html#t:Double">Double</a>)<a href="src/Diagrams-Backend-CmdLine.html#readHexColor" class="link">Source</a></p><div class="doc"><p>Parses a hexadecimal color.  The string can start with <code>&quot;0x&quot;</code> or <code>&quot;#&quot;</code>
   or just be a string of hexadecimal values.  If four or three digits are
   given each digit is repeated to form a full 24 or 32 bit color.  For
   example, <code>&quot;0xfc4&quot;</code> is the same as <code>&quot;0xffcc44&quot;</code>.  When eight or six
   digits are given each pair of digits is a color or alpha channel with the
   order being red, green, blue, alpha.
</p></div></div><h1 id="g:7">Command-line programs (<code>Mainable</code>)
</h1><h2 id="g:8">Arguments, rendering, and entry point
</h2><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Mainable" class="def">Mainable</a> d  <span class="keyword">where</span><a href="src/Diagrams-Backend-CmdLine.html#Mainable" class="link">Source</a></p><div class="doc"><p>This class represents the various ways we want to support diagram creation
   from the command line.  It has the right instances to select between creating
   single static diagrams, multiple static diagrams, static animations, and
   functions that produce diagrams as long as the arguments are <code><a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a></code>.
</p><p>Backends are expected to create <code>Mainable</code> instances for the types that are
   suitable for generating output in the backend's format.  For instance,
   Postscript can handle single diagrams, pages of diagrams, animations as
   separate files, and association lists.  This implies instances for
   <code>Diagram Postscript R2</code>, <code>[Diagram Postscript R2]</code>, <code>Animation Postscript R2</code>,
   and <code>[(String,Diagram Postscript R2)]</code>.  We can consider these as the base
   cases for the function instance.
</p><p>The associated type <code><a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a></code> describes the options which need to be parsed
   from the command-line and passed to <code>mainRender</code>.
</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:MainOpts" class="def">MainOpts</a> d :: *<a href="src/Diagrams-Backend-CmdLine.html#MainOpts" class="link">Source</a></p><div class="doc"><p>Associated type that describes the options which need to be parsed
 from the command-line and passed to <code>mainRender</code>.
</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:mainArgs" class="def">mainArgs</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d) =&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d)<a href="src/Diagrams-Backend-CmdLine.html#mainArgs" class="link">Source</a></p><div class="doc"><p>This method invokes the command-line parser resulting in an options
 value or ending the program with an error or help message.
 Typically the default instance will work.  If a different help message
 or parsing behavior is desired a new implementation is appropriate.
</p><p>Note the <code>d</code> argument should only be needed to fix the type <code>d</code>.  Its
 value should not be relied on as a parameter.
</p></div><p class="src"><a name="v:mainRender" class="def">mainRender</a> :: <a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d -&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()<a href="src/Diagrams-Backend-CmdLine.html#mainRender" class="link">Source</a></p><div class="doc"><p>Backend specific work of rendering with the given options and mainable
 value is done here.  All backend instances should implement this method.
</p></div><p class="src"><a name="v:mainWith" class="def">mainWith</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d) =&gt; d -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()<a href="src/Diagrams-Backend-CmdLine.html#mainWith" class="link">Source</a></p><div class="doc"><p>Main entry point for command-line diagram creation.  This is the method
 that users will call from their program <code>main</code>.  For instance an expected
 user program would take the following form.
</p><pre> import Diagrams.Prelude
 import Diagrams.Backend.TheBestBackend.CmdLine

 d :: Diagram B R2
 d = ...

 main = mainWith d
</pre><p>Most backends should be able to use the default implementation.  A different
 implementation should be used to handle more complex interactions with the user.
</p></div></div><div class="subs instances"><p id="control.i:Mainable" class="caption collapser" onclick="toggleSection('i:Mainable')">Instances</p><div id="section.i:Mainable" class="show"><table><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> d =&gt; <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> d)</td><td class="doc"><p>With this instance we can perform IO to produce something 
   <code><a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a></code> before rendering.
</p></td></tr><tr><td class="src">(<a href="Diagrams-Backend-CmdLine.html#t:Parseable">Parseable</a> (<a href="Diagrams-Backend-CmdLine.html#t:Args">Args</a> (a -&gt; d)), <a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> d, <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> (<a href="Diagrams-Backend-CmdLine.html#t:ResultOf">ResultOf</a> d)) =&gt; <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> (a -&gt; d)</td><td class="doc"><p>This instance allows functions resulting in something that is <code><a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a></code> to
   be <code><a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a></code>.  It takes a parse of collected arguments and applies them to
   the given function producing the <code><a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a></code> result.
</p></td></tr></table></div></div></div><h2 id="g:9">General currying
</h2><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:ToResult" class="def">ToResult</a> d  <span class="keyword">where</span><a href="src/Diagrams-Backend-CmdLine.html#ToResult" class="link">Source</a></p><div class="doc"><p>This class allows us to abstract over functions that take some arguments
   and produce a final value.  When some <code>d</code> is an instance of
   <code><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a></code> we get a type <code><code><a href="Diagrams-Backend-CmdLine.html#t:Args">Args</a></code> d</code> that is a type of <em>all</em> the arguments
   at once, and a type <code><code><a href="Diagrams-Backend-CmdLine.html#t:ResultOf">ResultOf</a></code> d</code> that is the type of the final result from
   some base case instance.
</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:Args" class="def">Args</a> d :: *<a href="src/Diagrams-Backend-CmdLine.html#Args" class="link">Source</a></p><p class="src"><span class="keyword">type</span> <a name="t:ResultOf" class="def">ResultOf</a> d :: *<a href="src/Diagrams-Backend-CmdLine.html#ResultOf" class="link">Source</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toResult" class="def">toResult</a> :: d -&gt; <a href="Diagrams-Backend-CmdLine.html#t:Args">Args</a> d -&gt; <a href="Diagrams-Backend-CmdLine.html#t:ResultOf">ResultOf</a> d<a href="src/Diagrams-Backend-CmdLine.html#toResult" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ToResult" class="caption collapser" onclick="toggleSection('i:ToResult')">Instances</p><div id="section.i:ToResult" class="show"><table><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> [(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a>, <a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v)]</td><td class="doc"><p>A list of named diagrams can give the multi-diagram interface.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> [<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v]</td><td class="doc"><p>A list of diagrams can produce pages.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> d =&gt; <a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> d)</td><td class="doc"><p>Diagrams that require IO to build are a base case.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> d =&gt; <a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> (a -&gt; d)</td><td class="doc"><p>An instance for a function that, given some <code>a</code>, can produce a <code>d</code> that is
   also an instance of <code><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a></code>.  For this to work we need both the
   argument <code>a</code> and all the arguments that <code>d</code> will need.  Producing the
   result is simply applying the argument to the producer and passing the
   remaining arguments to the produced producer.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v)</td><td class="doc"><p>A diagram can always produce a diagram when given <code>()</code> as an argument.
   This is our base case.
</p></td></tr><tr><td class="src"><a href="Diagrams-Backend-CmdLine.html#t:ToResult">ToResult</a> (<a href="Diagrams-Animation.html#t:Animation">Animation</a> b v)</td><td class="doc"><p>An animation is another suitable base case.
</p></td></tr></table></div></div></div><h2 id="g:10">Default <code>mainRender</code> implementations
</h2><div class="top"><p class="src"><a name="v:defaultAnimMainRender" class="def">defaultAnimMainRender</a><a href="src/Diagrams-Backend-CmdLine.html#defaultAnimMainRender" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="http://hackage.haskell.org/packages/archive/lens/3.10/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v)) <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>A lens into the output path.
</p></td></tr><tr><td class="src">-&gt; (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> b v), <a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Diagrams-Animation.html#t:Animation">Animation</a> b v</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code>defaultAnimMainRender</code> is an implementation of <code><a href="Diagrams-Backend-CmdLine.html#v:mainRender">mainRender</a></code> which renders
   an animation as numbered frames, named by extending the given output file
   name by consecutive integers.  For example if the given output file name is
   <code>foo/blah.ext</code>, the frames will be saved in <code>foo/blah001.ext</code>,
   <code>foo/blah002.ext</code>, and so on (the number of padding digits used depends on
   the total number of frames).  It is up to the user to take these images and
   stitch them together into an actual animation format (using, <em>e.g.</em>
   <code>ffmpeg</code>).
</p><p>Of course, this is a rather crude method of rendering animations;
   more sophisticated methods will likely be added in the future.
</p><p>The <code>fpu</code> option from <code><a href="Diagrams-Backend-CmdLine.html#t:DiagramAnimOpts">DiagramAnimOpts</a></code> can be used to control how many frames will
   be output for each second (unit time) of animation.
</p><p>This function requires a lens into the structure that the particular backend
   uses for it's diagram base case.  If <code>MainOpts (Diagram b v) ~ DiagramOpts</code>
   then this lens will simply be <code><a href="Diagrams-Backend-CmdLine.html#v:output">output</a></code>.  For a backend supporting looping
   it will most likely be <code>_1 . output</code>.  This lens is required because the
   implementation works by modifying the output field and running the base <code>mainRender</code>.
   Typically a backend can write its <code>Animation B V</code> instance as
</p><pre> instance Mainable (Animation B V) where
     type MainOpts (Animation B V) = (DiagramOpts, DiagramAnimOpts)
     mainRender = defaultAnimMainRender output
</pre><p>We do not provide this instance in general so that backends can choose to
   opt-in to this form or provide a different instance that makes more sense.
</p></div></div><div class="top"><p class="src"><a name="v:defaultMultiMainRender" class="def">defaultMultiMainRender</a> :: <a href="Diagrams-Backend-CmdLine.html#t:Mainable">Mainable</a> d =&gt; (<a href="Diagrams-Backend-CmdLine.html#t:MainOpts">MainOpts</a> d, <a href="Diagrams-Backend-CmdLine.html#t:DiagramMultiOpts">DiagramMultiOpts</a>) -&gt; [(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-String.html#t:String">String</a>, d)] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/System-IO.html#t:IO">IO</a> ()<a href="src/Diagrams-Backend-CmdLine.html#defaultMultiMainRender" class="link">Source</a></p><div class="doc"><p><code>defaultMultiMainRender</code> is an implementation of <code><a href="Diagrams-Backend-CmdLine.html#v:mainRender">mainRender</a></code> where
   instead of a single diagram it takes a list of diagrams paired with names
   as input.  The generated executable then takes a <code>--selection</code> option
   specifying the name of the diagram that should be rendered.  The list of
   available diagrams may also be printed by passing the option <code>--list</code>.
</p><p>Typically a backend can write its <code>[(String,Diagram B V)]</code> instance as
</p><pre> instance Mainable [(String,Diagram B V)] where
     type MainOpts [(String,Diagram B V)] = (DiagramOpts, DiagramMultiOpts)
     mainRender = defaultMultiMainRender
</pre><p>We do not provide this instance in general so that backends can choose to
   opt-in to this form or provide a different instance that makes more sense.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2.1</p></div></body></html>